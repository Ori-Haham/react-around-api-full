{"ast":null,"code":"import _classCallCheck from\"C:/dev/frontend-around/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/dev/frontend-around/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Auth=/*#__PURE__*/function(){function Auth(_ref){var _this=this;var baseUrl=_ref.baseUrl;_classCallCheck(this,Auth);this.register=function(email,password){return _this._postMethod('signup',email,password);};this.authorize=function(email,password){return _this._postMethod('signin',email,password);};this.getAuthorizedContent=function(token){return fetch(\"\".concat(_this._baseUrl,\"/users/me\"),{method:'GET',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(_this._checkResponse);};this._baseUrl=baseUrl;}_createClass(Auth,[{key:\"_checkResponse\",value:function _checkResponse(res){if(!res.ok){return Promise.reject(res.status);}return res.json();}},{key:\"_postMethod\",value:function _postMethod(path,email,password){return fetch(\"\".concat(this._baseUrl,\"/\").concat(path),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(this._checkResponse);}}]);return Auth;}();var auth=new Auth({baseUrl:'https://api.aroundori.students.nomoredomainssbs.ru'});export default auth;","map":{"version":3,"names":["Auth","baseUrl","register","email","password","_postMethod","authorize","getAuthorizedContent","token","fetch","_baseUrl","method","headers","Authorization","then","_checkResponse","res","ok","Promise","reject","status","json","path","body","JSON","stringify","auth"],"sources":["C:/dev/frontend-around/frontend/src/utils.js/auth.js"],"sourcesContent":["class Auth {\r\n  constructor({ baseUrl }) {\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(res.status);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  _postMethod(path, email, password) {\r\n    return fetch(`${this._baseUrl}/${path}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  register = (email, password) => {\r\n    return this._postMethod('signup', email, password);\r\n  };\r\n\r\n  authorize = (email, password) => {\r\n    return this._postMethod('signin', email, password);\r\n  };\r\n\r\n  getAuthorizedContent = (token) => {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then(this._checkResponse);\r\n  };\r\n}\r\n\r\nconst auth = new Auth({\r\n  baseUrl: 'https://api.aroundori.students.nomoredomainssbs.ru',\r\n});\r\n\r\nexport default auth;\r\n"],"mappings":"2OAAMA,K,yBACJ,mBAAyB,mBAAXC,QAAW,MAAXA,OAAW,iCAqBzBC,QArByB,CAqBd,SAACC,KAAD,CAAQC,QAAR,CAAqB,CAC9B,MAAO,MAAI,CAACC,WAAL,CAAiB,QAAjB,CAA2BF,KAA3B,CAAkCC,QAAlC,CAAP,CACD,CAvBwB,MAyBzBE,SAzByB,CAyBb,SAACH,KAAD,CAAQC,QAAR,CAAqB,CAC/B,MAAO,MAAI,CAACC,WAAL,CAAiB,QAAjB,CAA2BF,KAA3B,CAAkCC,QAAlC,CAAP,CACD,CA3BwB,MA6BzBG,oBA7ByB,CA6BF,SAACC,KAAD,CAAW,CAChC,MAAOC,MAAK,WAAI,KAAI,CAACC,QAAT,cAA8B,CACxCC,MAAM,CAAE,KADgC,CAGxCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,kBAAYL,KAAZ,CAFN,CAH+B,CAA9B,CAAL,CAOJM,IAPI,CAOC,KAAI,CAACC,cAPN,CAAP,CAQD,CAtCwB,CACvB,KAAKL,QAAL,CAAgBT,OAAhB,CACD,C,+CAED,wBAAee,GAAf,CAAoB,CAClB,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,MAAOC,QAAO,CAACC,MAAR,CAAeH,GAAG,CAACI,MAAnB,CAAP,CACD,CACD,MAAOJ,IAAG,CAACK,IAAJ,EAAP,CACD,C,2BAED,qBAAYC,IAAZ,CAAkBnB,KAAlB,CAAyBC,QAAzB,CAAmC,CACjC,MAAOK,MAAK,WAAI,KAAKC,QAAT,aAAqBY,IAArB,EAA6B,CACvCX,MAAM,CAAE,MAD+B,CAEvCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF8B,CAKvCW,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEtB,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAf,CALiC,CAA7B,CAAL,CAMJU,IANI,CAMC,KAAKC,cANN,CAAP,CAOD,C,oBAsBH,GAAMW,KAAI,CAAG,GAAI1B,KAAJ,CAAS,CACpBC,OAAO,CAAE,oDADW,CAAT,CAAb,CAIA,cAAeyB,KAAf"},"metadata":{},"sourceType":"module"}
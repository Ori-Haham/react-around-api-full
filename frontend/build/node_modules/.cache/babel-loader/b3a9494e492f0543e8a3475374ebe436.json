{"ast":null,"code":"import _classCallCheck from\"C:/dev/frontend-around/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/dev/frontend-around/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,authorizationCode=_ref.authorizationCode;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._authorization=authorizationCode;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(!res.ok){return Promise.reject(res.status);}return res.json();}},{key:\"getUserInfoApi\",value:function getUserInfoApi(path){return fetch(\"https://api.aroundori.students.nomoredomainssbs.ru\".concat(path),{headers:{Authorization:this._authorization}}).then(this._checkResponse);}},{key:\"updateUserData\",value:function updateUserData(path,name,about){return fetch(\"\".concat(this._baseUrl).concat(path),{method:'PATCH',headers:{Authorization:this._authorization,'Content-Type':'application/json'},body:JSON.stringify({name:name,about:about})}).then(this._checkResponse);}},{key:\"getInitialCard\",value:function getInitialCard(path){return fetch(\"https://api.aroundori.students.nomoredomainssbs.ru\".concat(path),{headers:{Authorization:this._authorization}}).then(this._checkResponse);}},{key:\"postCard\",value:function postCard(path,name,link){return fetch(\"\".concat(this._baseUrl).concat(path),{method:'POST',headers:{Authorization:this._authorization,'Content-Type':'application/json'},body:JSON.stringify({name:name,link:link})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this._baseUrl).concat(cardId),{method:'DELETE',headers:{Authorization:this._authorization}});}},{key:\"addLike\",value:function addLike(path){return fetch(\"\".concat(this._baseUrl).concat(path),{method:'PUT',headers:{Authorization:this._authorization}}).then(this._checkResponse);}},{key:\"removeLike\",value:function removeLike(path){return fetch(\"\".concat(this._baseUrl).concat(path),{method:'DELETE',headers:{Authorization:this._authorization}}).then(this._checkResponse);}},{key:\"editProfileImage\",value:function editProfileImage(path,avatar){return fetch(\"http://api.aroundori.students.nomoredomainssbs.ru\".concat(path),{method:'PATCH',headers:{Authorization:this._authorization,'Content-Type':'application/json'},body:JSON.stringify({avatar:avatar})}).then(this._checkResponse);}}]);return Api;}();var api=new Api({baseUrl:'https://api.aroundori.students.nomoredomainssbs.ru',authorizationCode:\"Bearer \".concat(localStorage.getItem('jwt'))});export default api;","map":{"version":3,"names":["Api","baseUrl","authorizationCode","_baseUrl","_authorization","res","ok","Promise","reject","status","json","path","fetch","headers","Authorization","then","_checkResponse","name","about","method","body","JSON","stringify","link","cardId","avatar","api","localStorage","getItem"],"sources":["C:/dev/frontend-around/frontend/src/utils.js/api.js"],"sourcesContent":["class Api {\r\n  constructor({ baseUrl, authorizationCode }) {\r\n    this._baseUrl = baseUrl;\r\n    this._authorization = authorizationCode;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(res.status);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  getUserInfoApi(path) {\r\n    return fetch(`https://api.aroundori.students.nomoredomainssbs.ru${path}`, {\r\n      headers: { Authorization: this._authorization },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  updateUserData(path, name, about) {\r\n    return fetch(`${this._baseUrl}${path}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        Authorization: this._authorization,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getInitialCard(path) {\r\n    return fetch(`https://api.aroundori.students.nomoredomainssbs.ru${path}`, {\r\n      headers: { Authorization: this._authorization },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  postCard(path, name, link) {\r\n    return fetch(`${this._baseUrl}${path}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: this._authorization,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Authorization: this._authorization,\r\n      },\r\n    });\r\n  }\r\n\r\n  addLike(path) {\r\n    return fetch(`${this._baseUrl}${path}`, {\r\n      method: 'PUT',\r\n      headers: { Authorization: this._authorization },\r\n    }).then(this._checkResponse);\r\n  }\r\n  removeLike(path) {\r\n    return fetch(`${this._baseUrl}${path}`, {\r\n      method: 'DELETE',\r\n      headers: { Authorization: this._authorization },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editProfileImage(path, avatar) {\r\n    return fetch(`http://api.aroundori.students.nomoredomainssbs.ru${path}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        Authorization: this._authorization,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://api.aroundori.students.nomoredomainssbs.ru',\r\n  authorizationCode: `Bearer ${localStorage.getItem('jwt')}`,\r\n});\r\n\r\nexport default api;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}